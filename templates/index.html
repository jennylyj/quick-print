<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿåˆ—å°å‚³è¼¸ç«™</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; text-align: center; }
        .box { border: 2px dashed #aaa; padding: 20px; margin: 20px 0; border-radius: 10px; }
        input[type="text"] { padding: 10px; font-size: 1.2em; width: 100px; text-align: center; }
        button { padding: 10px 20px; font-size: 1em; background-color: #4CAF50; color: white; border: none; cursor: pointer; border-radius: 5px;}
        .code-display { font-size: 3em; color: #d9534f; font-weight: bold; margin: 20px 0; }
        .instruction { color: #666; font-size: 0.9em; }
    </style>
</head>
<body>
    <h1>ğŸ–¨ï¸ å¿«é€Ÿåˆ—å°å‚³è¼¸ç«™</h1>
    <p>æ‰‹æ©Ÿä¸Šå‚³ -> é›»è…¦è¼¸å…¥ä»£ç¢¼ -> ä¸‹è¼‰åˆ—å°</p>

    <!-- å¦‚æœåˆšåˆšæœ‰ä¸Šå‚³æˆåŠŸï¼Œé¡¯ç¤ºä»£ç¢¼ -->
    {% if new_code %}
    <div style="background-color: #e8f5e9; padding: 20px; border-radius: 10px;">
        <h2>æª”æ¡ˆä¸Šå‚³æˆåŠŸï¼</h2>
        <p>è«‹åœ¨å…¬ç”¨é›»è…¦è¼¸å…¥æ­¤ä»£ç¢¼ (10åˆ†é˜å…§æœ‰æ•ˆ)</p>
        <div class="code-display">{{ new_code }}</div>
        <a href="/">è¿”å›é¦–é </a>
    </div>
    {% else %}

    <!-- å€å¡Šä¸€ï¼šæˆ‘è¦ä¸Šå‚³ (çµ¦æ‰‹æ©Ÿç”¨) -->
    <div class="box">
        <h3>ğŸ“¤ æˆ‘è¦ä¸Šå‚³æª”æ¡ˆ</h3>
        <form method="POST" enctype="multipart/form-data">
            <input type="file" name="file" required>
            <br><br>
            <button type="submit">å–å¾—æå–ç¢¼</button>
        </form>
    </div>

    <hr>

    <!-- å€å¡ŠäºŒï¼šæˆ‘è¦ä¸‹è¼‰ (çµ¦å…¬ç”¨é›»è…¦ç”¨) -->
    <div class="box">
        <h3>ğŸ“¥ æˆ‘è¦ä¸‹è¼‰æª”æ¡ˆ</h3>
        <form action="/download" method="POST">
            <p>è¼¸å…¥ 4 ä½æ•¸ä»£ç¢¼ï¼š</p>
            <input type="text" name="code" maxlength="4" placeholder="0000" required>
            <br><br>
            <button type="submit">ä¸‹è¼‰æª”æ¡ˆ</button>
        </form>
    </div>
    {% endif %}
    
    <p class="instruction">æ³¨æ„ï¼šç‚ºç¢ºä¿éš±ç§ï¼Œæª”æ¡ˆå°‡åœ¨ 10 åˆ†é˜å¾Œè‡ªå‹•åˆªé™¤ã€‚</p>
</body>
</html>